{"ast":null,"code":"import axios from 'axios';\nconst SPOTIFY_BASE_URL = 'https://api.spotify.com/v1';\nexport const spotifyApi = {\n  token: null,\n  setAccessToken(token) {\n    this.token = token;\n  },\n  getHeaders() {\n    return {\n      'Authorization': `Bearer ${this.token}`,\n      'Content-Type': 'application/json'\n    };\n  },\n  async search(query, types = ['track', 'artist', 'album']) {\n    try {\n      const response = await axios.get(`${SPOTIFY_BASE_URL}/search`, {\n        headers: this.getHeaders(),\n        params: {\n          q: query,\n          type: types.join(','),\n          limit: 20\n        }\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response;\n      if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n        window.localStorage.removeItem(\"token\");\n        window.location.reload();\n      }\n      throw error;\n    }\n  },\n  async getUserPlaylists() {\n    try {\n      const response = await axios.get(`${SPOTIFY_BASE_URL}/me/playlists`, {\n        headers: this.getHeaders()\n      });\n      return response.data;\n    } catch (error) {\n      var _error$response2;\n      if (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 401) {\n        window.localStorage.removeItem(\"token\");\n        window.location.reload();\n      }\n      throw error;\n    }\n  },\n  async getPlaylist(playlistId) {\n    const response = await axios.get(`${SPOTIFY_BASE_URL}/playlists/${playlistId}`, {\n      headers: {\n        'Authorization': `Bearer ${this.token}`\n      }\n    });\n    return response.data;\n  },\n  async play(uri) {\n    try {\n      await axios.put(`${SPOTIFY_BASE_URL}/me/player/play`, {\n        uris: [uri]\n      }, {\n        headers: this.getHeaders()\n      });\n    } catch (error) {\n      var _error$response3;\n      if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401) {\n        window.localStorage.removeItem(\"token\");\n        window.location.reload();\n      }\n      throw error;\n    }\n  },\n  async pause() {\n    try {\n      await axios.put(`${SPOTIFY_BASE_URL}/me/player/pause`, {}, {\n        headers: this.getHeaders()\n      });\n    } catch (error) {\n      var _error$response4;\n      if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 401) {\n        window.localStorage.removeItem(\"token\");\n        window.location.reload();\n      }\n      throw error;\n    }\n  }\n};","map":{"version":3,"names":["axios","SPOTIFY_BASE_URL","spotifyApi","token","setAccessToken","getHeaders","search","query","types","response","get","headers","params","q","type","join","limit","data","error","_error$response","status","window","localStorage","removeItem","location","reload","getUserPlaylists","_error$response2","getPlaylist","playlistId","play","uri","put","uris","_error$response3","pause","_error$response4"],"sources":["/Users/petereijgermans/Desktop/react/src/services/spotify.js"],"sourcesContent":["import axios from 'axios';\n\nconst SPOTIFY_BASE_URL = 'https://api.spotify.com/v1';\n\nexport const spotifyApi = {\n  token: null,\n\n  setAccessToken(token) {\n    this.token = token;\n  },\n\n  getHeaders() {\n    return {\n      'Authorization': `Bearer ${this.token}`,\n      'Content-Type': 'application/json',\n    };\n  },\n\n  async search(query, types = ['track', 'artist', 'album']) {\n    try {\n      const response = await axios.get(`${SPOTIFY_BASE_URL}/search`, {\n        headers: this.getHeaders(),\n        params: {\n          q: query,\n          type: types.join(','),\n          limit: 20\n        }\n      });\n      return response.data;\n    } catch (error) {\n      if (error.response?.status === 401) {\n        window.localStorage.removeItem(\"token\");\n        window.location.reload();\n      }\n      throw error;\n    }\n  },\n\n  async getUserPlaylists() {\n    try {\n      const response = await axios.get(`${SPOTIFY_BASE_URL}/me/playlists`, {\n        headers: this.getHeaders()\n      });\n      return response.data;\n    } catch (error) {\n      if (error.response?.status === 401) {\n        window.localStorage.removeItem(\"token\");\n        window.location.reload();\n      }\n      throw error;\n    }\n  },\n\n  async getPlaylist(playlistId) {\n    const response = await axios.get(`${SPOTIFY_BASE_URL}/playlists/${playlistId}`, {\n      headers: {\n        'Authorization': `Bearer ${this.token}`\n      }\n    });\n    return response.data;\n  },\n\n  async play(uri) {\n    try {\n      await axios.put(`${SPOTIFY_BASE_URL}/me/player/play`, {\n        uris: [uri]\n      }, {\n        headers: this.getHeaders()\n      });\n    } catch (error) {\n      if (error.response?.status === 401) {\n        window.localStorage.removeItem(\"token\");\n        window.location.reload();\n      }\n      throw error;\n    }\n  },\n\n  async pause() {\n    try {\n      await axios.put(`${SPOTIFY_BASE_URL}/me/player/pause`, {}, {\n        headers: this.getHeaders()\n      });\n    } catch (error) {\n      if (error.response?.status === 401) {\n        window.localStorage.removeItem(\"token\");\n        window.location.reload();\n      }\n      throw error;\n    }\n  }\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}